{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RegistroPage=()=>{const[visible,setVisible]=useState([false,false,false]);const[secciones,setSecciones]=useState([]);const toggle=index=>{const updated=[...visible];updated[index]=!updated[index];setVisible(updated);};const elegirPlan=async(nombrePlan,precio)=>{const confirmar=window.confirm(`¿Estás seguro de elegir el ${nombrePlan}?`);if(confirmar){try{const usuarioId=localStorage.getItem('usuarioId');// Ajusta según tu manejo de sesión\nif(!usuarioId){alert('No se encontró usuario autenticado');return;}console.log('usuarioId:',usuarioId,'nombrePlan:',nombrePlan);const response=await fetch('http://localhost:5000/api/planes/seleccionar',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({usuarioId,nombrePlan,precio})});const data=await response.json();if(response.ok){alert(`Has seleccionado el ${nombrePlan}.`);}else{alert('Error al guardar el plan: '+data.mensaje);}}catch(error){alert('Error de red: '+error.message);}}};useEffect(()=>{fetch('http://localhost:5000/api/planescrud').then(res=>res.json()).then(data=>setSecciones(data));},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column min-vh-100\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"bg-esfot text-white py-3 px-4 d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/imagenes_asoesfot/logo.png\",alt:\"ESFOT\",style:{height:'60px'}}),/*#__PURE__*/_jsx(Link,{to:\"/landing\",className:\"btn btn-light\",children:\"Inicio\"})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"flex-grow-1 d-flex flex-column align-items-center justify-content-center p-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-4 text-center\",children:\"Planes de Aportaciones\"}),/*#__PURE__*/_jsx(\"p\",{className:\"lead text-secondary fw-semibold\",children:\"La Asociaci\\xF3n de Estudiantes de la ESFOT cuenta con 3 diferentes planes que son los que se presentan a continuaci\\xF3n:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:secciones.map((item,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card h-100\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.imagen,className:\"card-img-top\",alt:`Imagen ${index+1}`}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body text-center\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"fw-bold mb-2\",children:[\"Precio: $\",item.precio,\".00\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger mb-2\",onClick:()=>toggle(index),children:visible[index]?'Ocultar':'Ver más'}),visible[index]&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-start\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"strong\",{children:[item.titulo,\":\"]})}),/*#__PURE__*/_jsx(\"ul\",{children:(item.beneficios||[]).map((detalle,i)=>/*#__PURE__*/_jsx(\"li\",{children:detalle},i))})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary mt-3\",onClick:()=>elegirPlan(item.titulo,item.precio),children:\"Elegir plan\"})]})]})},index))})})]}),/*#__PURE__*/_jsx(\"footer\",{className:\"bg-esfot text-white text-center py-3\",children:\"\\xA9 2025 ASO-ESFOT. Todos los derechos reservados.\"})]});};export default RegistroPage;","map":{"version":3,"names":["React","useState","useEffect","Link","jsx","_jsx","jsxs","_jsxs","RegistroPage","visible","setVisible","secciones","setSecciones","toggle","index","updated","elegirPlan","nombrePlan","precio","confirmar","window","confirm","usuarioId","localStorage","getItem","alert","console","log","response","fetch","method","headers","body","JSON","stringify","data","json","ok","mensaje","error","message","then","res","className","children","src","alt","style","height","to","map","item","imagen","onClick","titulo","beneficios","detalle","i"],"sources":["C:/Users/PC/Desktop/ASO_ESFOT/frontend/src/pages/RegistroPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst RegistroPage = () => {\r\n  const [visible, setVisible] = useState([false, false, false]);\r\n  const [secciones, setSecciones] = useState([]);\r\n\r\n  const toggle = (index) => {\r\n    const updated = [...visible];\r\n    updated[index] = !updated[index];\r\n    setVisible(updated);\r\n  };\r\n  \r\n\r\n  const elegirPlan = async (nombrePlan,precio) => {\r\n  const confirmar = window.confirm(`¿Estás seguro de elegir el ${nombrePlan}?`);\r\n  if (confirmar) {\r\n    try {\r\n      const usuarioId = localStorage.getItem('usuarioId'); // Ajusta según tu manejo de sesión\r\n      \r\n      if (!usuarioId) {\r\n        alert('No se encontró usuario autenticado');\r\n        return;\r\n      }\r\n      console.log('usuarioId:', usuarioId, 'nombrePlan:', nombrePlan);\r\n      const response = await fetch('http://localhost:5000/api/planes/seleccionar', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ usuarioId, nombrePlan, precio }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (response.ok) {\r\n        alert(`Has seleccionado el ${nombrePlan}.`);\r\n      } else {\r\n        alert('Error al guardar el plan: ' + data.mensaje);\r\n      }\r\n    } catch (error) {\r\n      alert('Error de red: ' + error.message);\r\n    }\r\n  }\r\n};\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:5000/api/planescrud')\r\n      .then(res => res.json())\r\n      .then(data => setSecciones(data));\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"d-flex flex-column min-vh-100\">\r\n      {/* ENCABEZADO */}\r\n      <header className=\"bg-esfot text-white py-3 px-4 d-flex justify-content-between align-items-center\">\r\n        <img src=\"/imagenes_asoesfot/logo.png\" alt=\"ESFOT\" style={{ height: '60px' }} />\r\n        <Link to=\"/landing\" className=\"btn btn-light\">\r\n          Inicio\r\n        </Link>\r\n      </header>\r\n\r\n      {/* CUERPO PRINCIPAL */}\r\n      <main className=\"flex-grow-1 d-flex flex-column align-items-center justify-content-center p-4\">\r\n        <h2 className=\"mb-4 text-center\">Planes de Aportaciones</h2>\r\n        <p className=\"lead text-secondary fw-semibold\">La Asociación de Estudiantes de la ESFOT cuenta con 3 diferentes planes que son los que se presentan a continuación:</p>\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            {secciones.map((item, index) => (\r\n              <div className=\"col-md-4 mb-4\" key={index}>\r\n                <div className=\"card h-100\">\r\n                  <img src={item.imagen} className=\"card-img-top\" alt={`Imagen ${index + 1}`} />\r\n                  <div className=\"card-body text-center\">\r\n                    <p className=\"fw-bold mb-2\">Precio: ${item.precio}.00</p>\r\n                    <button className=\"btn btn-danger mb-2\" onClick={() => toggle(index)}>\r\n                      {visible[index] ? 'Ocultar' : 'Ver más'}\r\n                    </button>\r\n                    {visible[index] && (\r\n                      <div className=\"mt-3 text-start\">\r\n                        <p><strong>{item.titulo}:</strong></p>\r\n                        <ul>\r\n                          {(item.beneficios || []).map((detalle, i) => (\r\n                            <li key={i}>{detalle}</li>\r\n                          ))}\r\n                        </ul>\r\n                      </div>\r\n                    )}\r\n                    {/* Botón Elegir Plan */}\r\n                    <button\r\n                      className=\"btn btn-primary mt-3\"\r\n                      onClick={() => elegirPlan(item.titulo, item.precio)}\r\n                    >\r\n                      Elegir plan\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </main>\r\n\r\n      {/* PIE DE PÁGINA */}\r\n      <footer className=\"bg-esfot text-white text-center py-3\">\r\n        &copy; 2025 ASO-ESFOT. Todos los derechos reservados.\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegistroPage;\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}